{"remainingRequest":"/Users/ashwininagaraj/MusicBuddy-VueJSApp/client/node_modules/thread-loader/dist/cjs.js!/Users/ashwininagaraj/MusicBuddy-VueJSApp/client/node_modules/babel-loader/lib/index.js!/Users/ashwininagaraj/MusicBuddy-VueJSApp/client/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/ashwininagaraj/MusicBuddy-VueJSApp/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ashwininagaraj/MusicBuddy-VueJSApp/client/src/views/EditArtist.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ashwininagaraj/MusicBuddy-VueJSApp/client/src/views/EditArtist.vue","mtime":1643600154722},{"path":"/Users/ashwininagaraj/MusicBuddy-VueJSApp/client/babel.config.js","mtime":1643625634685},{"path":"/Users/ashwininagaraj/MusicBuddy-VueJSApp/client/node_modules/cache-loader/dist/cjs.js","mtime":1643625503574},{"path":"/Users/ashwininagaraj/MusicBuddy-VueJSApp/client/node_modules/thread-loader/dist/cjs.js","mtime":1643625503574},{"path":"/Users/ashwininagaraj/MusicBuddy-VueJSApp/client/node_modules/babel-loader/lib/index.js","mtime":1643625504366},{"path":"/Users/ashwininagaraj/MusicBuddy-VueJSApp/client/node_modules/cache-loader/dist/cjs.js","mtime":1643625503574},{"path":"/Users/ashwininagaraj/MusicBuddy-VueJSApp/client/node_modules/vue-loader/lib/index.js","mtime":1643625504571}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9hc2h3aW5pbmFnYXJhai9NdXNpY0J1ZGR5LVZ1ZUpTQXBwL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEFQSSBmcm9tICcuLi9hcGknOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJ1bGVzOiBbZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgcmV0dXJuICEhdmFsdWUgfHwgIlRoaXMgZmllbGQgaXMgcmVxdWlyZWQiOwogICAgICB9XSwKICAgICAgYXJ0aXN0OiB7CiAgICAgICAgYXJ0aXN0TmFtZTogJycsCiAgICAgICAgZ2VucmU6ICcnLAogICAgICAgIGFib3V0OiAnJywKICAgICAgICBpbWFnZTogJycsCiAgICAgICAgdG9wVGhyZWVTb25nczogJycKICAgICAgfSwKICAgICAgaW1hZ2U6ICcnCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIHJlc3BvbnNlOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIEFQSS5nZXRBcnRpc3RCeUlEKF90aGlzLiRyb3V0ZS5wYXJhbXMuaWQpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBfdGhpcy5hcnRpc3QgPSByZXNwb25zZTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNlbGVjdEZpbGU6IGZ1bmN0aW9uIHNlbGVjdEZpbGUoZmlsZSkgewogICAgICB0aGlzLmltYWdlID0gZmlsZVswXTsKICAgIH0sCiAgICB1cGRhdGVGb3JtOiBmdW5jdGlvbiB1cGRhdGVGb3JtKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBmb3JtRGF0YSwgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ltYWdlJywgX3RoaXMyLmltYWdlKTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnYXJ0aXN0TmFtZScsIF90aGlzMi5hcnRpc3QuYXJ0aXN0TmFtZSk7CiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2dlbnJlJywgX3RoaXMyLmFydGlzdC5nZW5yZSk7CiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2Fib3V0JywgX3RoaXMyLmFydGlzdC5hYm91dCk7CiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3RvcFRocmVlU29uZ3MnLCBfdGhpczIuYXJ0aXN0LnRvcFRocmVlU29uZ3MpOwogICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdvbGRfaW1hZ2UnLCBfdGhpczIuYXJ0aXN0LmltYWdlKTsKCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi4kcmVmcy5mb3JtLnZhbGlkYXRlKCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiBBUEkudXBkYXRlQXJ0aXN0KF90aGlzMi4kcm91dGUucGFyYW1zLmlkLCBmb3JtRGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiAnYWxsLWFydGlzdHMnLAogICAgICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5tZXNzYWdlCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["EditArtist.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,OAAA,GAAA,MAAA,QAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,CAAA,UAAA,KAAA;AAAA,eAAA,CAAA,CAAA,KAAA,IAAA,wBAAA;AAAA,OAAA,CADA;AAEA,MAAA,MAAA,EAAA;AACA,QAAA,UAAA,EAAA,EADA;AAEA,QAAA,KAAA,EAAA,EAFA;AAGA,QAAA,KAAA,EAAA,EAHA;AAIA,QAAA,KAAA,EAAA,EAJA;AAKA,QAAA,aAAA,EAAA;AALA,OAFA;AASA,MAAA,KAAA,EAAA;AATA,KAAA;AAYA,GAdA;AAeA,EAAA,OAfA,qBAeA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,GAAA,CAAA,aAAA,CAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,CADA;;AAAA;AACA,cAAA,QADA;AAEA,cAAA,KAAA,CAAA,MAAA,GAAA,QAAA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,GAlBA;AAmBA,EAAA,OAAA,EAAA;AAEA,IAAA,UAFA,sBAEA,IAFA,EAEA;AACA,WAAA,KAAA,GAAA,IAAA,CAAA,CAAA,CAAA;AACA,KAJA;AAKA,IAAA,UALA,wBAKA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,QADA,GACA,IAAA,QAAA,EADA;AAEA,gBAAA,QAAA,CAAA,MAAA,CAAA,OAAA,EAAA,MAAA,CAAA,KAAA;AACA,gBAAA,QAAA,CAAA,MAAA,CAAA,YAAA,EAAA,MAAA,CAAA,MAAA,CAAA,UAAA;AACA,gBAAA,QAAA,CAAA,MAAA,CAAA,OAAA,EAAA,MAAA,CAAA,MAAA,CAAA,KAAA;AACA,gBAAA,QAAA,CAAA,MAAA,CAAA,OAAA,EAAA,MAAA,CAAA,MAAA,CAAA,KAAA;AACA,gBAAA,QAAA,CAAA,MAAA,CAAA,eAAA,EAAA,MAAA,CAAA,MAAA,CAAA,aAAA;AACA,gBAAA,QAAA,CAAA,MAAA,CAAA,WAAA,EAAA,MAAA,CAAA,MAAA,CAAA,KAAA;;AAPA,qBAQA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,QAAA,EARA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBASA,GAAA,CAAA,YAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,QAAA,CATA;;AAAA;AASA,gBAAA,QATA;;AAUA,gBAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,kBAAA,IAAA,EAAA,aAAA;AAAA,kBAAA,MAAA,EAAA;AAAA,oBAAA,OAAA,EAAA,QAAA,CAAA;AAAA;AAAA,iBAAA;;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAjBA;AAnBA,CAAA","sourcesContent":["<template>\n    <v-conatiner>\n        <v-row no-gutters>\n            <v-col sm=\"10\" class=\"mx-auto\">\n                <v-card class=\"pa-5\">\n                    <v-card-title>Edit Artist</v-card-title>\n                    <v-divider></v-divider>\n                    <v-form ref=\"form\" @submit.prevent=\"updateForm\" class=\"pa-5\" enctype=\"multipart/form-data\">\n                    <v-text-field label=\"Artist Name\" v-model=\"artist.artistName\" prepend-icon=\"mdi-account-music\" :rules=\"rules\"></v-text-field>\n                     <v-text-field label=\"Genre\"  v-model=\"artist.genre\" prepend-icon=\"mdi-music-note-sixteenth\" :rules=\"rules\"></v-text-field>\n                     <v-textarea label=\"About\" v-model=\"artist.about\" prepend-icon=\"mdi-information\" :rules=\"rules\"></v-textarea>\n                      <v-list-item>\n      <v-list-item-content v-for=\"ps in artist\" :key=\"ps._id\">\n        <v-list-item-title>{{ps.topThreeSongs}}</v-list-item-title>\n      </v-list-item-content>\n    </v-list-item>\n                     <v-file-input @change=\"selectFile\" show-size counter multiple label=\"select an image\"></v-file-input>\n                     <v-img :src=\"`/${artist.image}`\" width=\"120\"></v-img>\n                     <v-btn type=\"submit\" class=\"mt-3\" color=\"success\">Update Artist</v-btn>\n                    </v-form>\n                </v-card>\n            </v-col>\n        </v-row>\n    </v-conatiner>\n</template>\n<script>\nimport API from '../api'\nexport default {\n    data(){\n        return{\n            rules:[(value)=>!!value ||\"This field is required\"],\n            artist:{\n              artistName:'',\n              genre:'',\n              about:'',\n              image:'',\n              topThreeSongs:''\n            },\n            image:''\n        };\n\n    },\n    async created(){\n      const response = await API.getArtistByID(this.$route.params.id)\n      this.artist= response;\n    },\n    methods:{\n\n        selectFile(file){\n            this.image=file[0];\n        },\n        async updateForm(){\n          const formData= new FormData();\n          formData.append('image',this.image)\n          formData.append('artistName',this.artist.artistName)\n          formData.append('genre',this.artist.genre)\n          formData.append('about',this.artist.about)\n          formData.append('topThreeSongs',this.artist.topThreeSongs)\n           formData.append('old_image',this.artist.image)\n          if(this.$refs.form.validate()){\n              const response = await API.updateArtist(this.$route.params.id, formData);\n              this.$router.push({name:'all-artists', params:{message:response.message}})\n          }\n        }\n        \n    }\n}\n</script>"],"sourceRoot":"src/views"}]}