{"remainingRequest":"/Users/ashwininagaraj/MusicBuddy-VueJSApp/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ashwininagaraj/MusicBuddy-VueJSApp/client/src/views/EditArtist.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ashwininagaraj/MusicBuddy-VueJSApp/client/src/views/EditArtist.vue","mtime":1643600154722},{"path":"/Users/ashwininagaraj/MusicBuddy-VueJSApp/client/node_modules/babel-loader/lib/index.js","mtime":1643625504366},{"path":"/Users/ashwininagaraj/MusicBuddy-VueJSApp/client/node_modules/cache-loader/dist/cjs.js","mtime":1643625503574},{"path":"/Users/ashwininagaraj/MusicBuddy-VueJSApp/client/node_modules/vue-loader/lib/index.js","mtime":1643625504571}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBUEkgZnJvbSAnLi4vYXBpJwpleHBvcnQgZGVmYXVsdCB7CiAgICBkYXRhKCl7CiAgICAgICAgcmV0dXJuewogICAgICAgICAgICBydWxlczpbKHZhbHVlKT0+ISF2YWx1ZSB8fCJUaGlzIGZpZWxkIGlzIHJlcXVpcmVkIl0sCiAgICAgICAgICAgIGFydGlzdDp7CiAgICAgICAgICAgICAgYXJ0aXN0TmFtZTonJywKICAgICAgICAgICAgICBnZW5yZTonJywKICAgICAgICAgICAgICBhYm91dDonJywKICAgICAgICAgICAgICBpbWFnZTonJywKICAgICAgICAgICAgICB0b3BUaHJlZVNvbmdzOicnCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGltYWdlOicnCiAgICAgICAgfTsKCiAgICB9LAogICAgYXN5bmMgY3JlYXRlZCgpewogICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEFQSS5nZXRBcnRpc3RCeUlEKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkKICAgICAgdGhpcy5hcnRpc3Q9IHJlc3BvbnNlOwogICAgfSwKICAgIG1ldGhvZHM6ewoKICAgICAgICBzZWxlY3RGaWxlKGZpbGUpewogICAgICAgICAgICB0aGlzLmltYWdlPWZpbGVbMF07CiAgICAgICAgfSwKICAgICAgICBhc3luYyB1cGRhdGVGb3JtKCl7CiAgICAgICAgICBjb25zdCBmb3JtRGF0YT0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ltYWdlJyx0aGlzLmltYWdlKQogICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdhcnRpc3ROYW1lJyx0aGlzLmFydGlzdC5hcnRpc3ROYW1lKQogICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdnZW5yZScsdGhpcy5hcnRpc3QuZ2VucmUpCiAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2Fib3V0Jyx0aGlzLmFydGlzdC5hYm91dCkKICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgndG9wVGhyZWVTb25ncycsdGhpcy5hcnRpc3QudG9wVGhyZWVTb25ncykKICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ29sZF9pbWFnZScsdGhpcy5hcnRpc3QuaW1hZ2UpCiAgICAgICAgICBpZih0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKSl7CiAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBBUEkudXBkYXRlQXJ0aXN0KHRoaXMuJHJvdXRlLnBhcmFtcy5pZCwgZm9ybURhdGEpOwogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOidhbGwtYXJ0aXN0cycsIHBhcmFtczp7bWVzc2FnZTpyZXNwb25zZS5tZXNzYWdlfX0pCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgfQp9Cg=="},{"version":3,"sources":["EditArtist.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"EditArtist.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <v-conatiner>\n        <v-row no-gutters>\n            <v-col sm=\"10\" class=\"mx-auto\">\n                <v-card class=\"pa-5\">\n                    <v-card-title>Edit Artist</v-card-title>\n                    <v-divider></v-divider>\n                    <v-form ref=\"form\" @submit.prevent=\"updateForm\" class=\"pa-5\" enctype=\"multipart/form-data\">\n                    <v-text-field label=\"Artist Name\" v-model=\"artist.artistName\" prepend-icon=\"mdi-account-music\" :rules=\"rules\"></v-text-field>\n                     <v-text-field label=\"Genre\"  v-model=\"artist.genre\" prepend-icon=\"mdi-music-note-sixteenth\" :rules=\"rules\"></v-text-field>\n                     <v-textarea label=\"About\" v-model=\"artist.about\" prepend-icon=\"mdi-information\" :rules=\"rules\"></v-textarea>\n                      <v-list-item>\n      <v-list-item-content v-for=\"ps in artist\" :key=\"ps._id\">\n        <v-list-item-title>{{ps.topThreeSongs}}</v-list-item-title>\n      </v-list-item-content>\n    </v-list-item>\n                     <v-file-input @change=\"selectFile\" show-size counter multiple label=\"select an image\"></v-file-input>\n                     <v-img :src=\"`/${artist.image}`\" width=\"120\"></v-img>\n                     <v-btn type=\"submit\" class=\"mt-3\" color=\"success\">Update Artist</v-btn>\n                    </v-form>\n                </v-card>\n            </v-col>\n        </v-row>\n    </v-conatiner>\n</template>\n<script>\nimport API from '../api'\nexport default {\n    data(){\n        return{\n            rules:[(value)=>!!value ||\"This field is required\"],\n            artist:{\n              artistName:'',\n              genre:'',\n              about:'',\n              image:'',\n              topThreeSongs:''\n            },\n            image:''\n        };\n\n    },\n    async created(){\n      const response = await API.getArtistByID(this.$route.params.id)\n      this.artist= response;\n    },\n    methods:{\n\n        selectFile(file){\n            this.image=file[0];\n        },\n        async updateForm(){\n          const formData= new FormData();\n          formData.append('image',this.image)\n          formData.append('artistName',this.artist.artistName)\n          formData.append('genre',this.artist.genre)\n          formData.append('about',this.artist.about)\n          formData.append('topThreeSongs',this.artist.topThreeSongs)\n           formData.append('old_image',this.artist.image)\n          if(this.$refs.form.validate()){\n              const response = await API.updateArtist(this.$route.params.id, formData);\n              this.$router.push({name:'all-artists', params:{message:response.message}})\n          }\n        }\n        \n    }\n}\n</script>"]}]}